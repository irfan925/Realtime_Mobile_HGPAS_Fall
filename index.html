<!DOCTYPE html>
<html>
    <head>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>


        html {
            font-size: clamp(12px, 1.5vw, 18px); /* Scales between 12px and 18px */
        }

        body {
            font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
            line-height: 1.5;
        }


        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: nowrap;
        }

        .button-group button {
            flex: 1 1 45%;
            font-size: 1.1rem;
            padding: 10px;
        }


        /* Ensure proper scaling on mobile */
        select {
            width: 100%;
            padding: 6px 10px;
            margin: 8px 0;
            display: block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1.1rem;
        }

        #cap {
            width: 100%;
            background-color: #6d5ee2;
            color: white;
            padding: 5px;
            margin: 8px 0px;
            border: none;
            text-align: center;
            border-radius: 5px;
            font-size: 1.2rem;
        }

        #feedback {
            text-align: center;
            color: brown;
            font-size: 1.3rem;
        }



        #title {
            text-align: center;
            color: brown;
            font-size: 1.5rem;
        }

        #pose-video {
            display: none;
        }

        /* Flexbox layout for top bar */
        #container-0 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            padding: 10px;
        }

        #time{
            flex: 1 1 auto;
            font-size: 1.1rem;
            color: #6d5ee2;
        }

        #block-1 {
            margin-left: auto; /* Pushes this block to the far right */
            text-align: right;
            border-radius: 5px;
            padding: 2px;
            margin: 8px 0;
            flex: 1 1 auto;
            color: #6d5ee2;
            font-size: 1.1rem;
        }


        #block-1 button {
            background-color: #4CAF50;
            color: white;
            padding: 5px 10px;
            margin-left: 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        /* Layout containers for canvas/video and data */
        #container-1,
        #container-2 {
            box-sizing: border-box;
            padding: 10px;
        }

        #container-1 {
            width: 100%;
        }

        #pose-canvas {
            width: 100%;
            height: auto;
        }

        #container-2 {
            width: 100%;
        }

        #block-2 {
            border-radius: 5px;
            background-color: #f2f2f2;
            padding: 10px;
            margin: 8px 0;
        }

        #block-2 label {
            font-size: 1.1rem;
        }

        #block-2 button {
            width: 48%;
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            margin: 10px 1%;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        #block-3,
        #block-31 {
            width: 100%;
            background-color: #f2f2f2;
            border-radius: 5px;
            padding: 8px;
            margin-top: 10px;
        }

        #block-3 th,
        #block-31 th,
        #block-3 td,
        #block-31 td {
            padding: 6px;
            font-size: 1.1rem;
        }

        /* Graphs area */
        #container-3 {
        display: flex;
        flex-wrap: wrap; /* Allows stacking on small screens */
        justify-content: center;
        gap: 10px;
        width: 100%;
        box-sizing: border-box;
        padding: 10px;
        }

        .curve {
            flex: 1 1 45%; /* Take up to 45% of container width, shrink if needed */
            max-width: 600px; /* Prevents canvas from getting too large on very wide screens */
            min-width: 250px; /* Prevents canvas from becoming too small */
            aspect-ratio: 16 / 9; /* Maintains shape without needing height */
            border: 1px solid black;
            width: 100%; /* Required to respect flex item width */
        }


        /* Responsive styles for wider screens */
        @media screen and (min-width: 768px) {
            #container-1 {
                width: 65%;
                float: left;
            }

            #container-2 {
                width: 30%;
                float: right;
            }

            #container-0 {
                flex-wrap: nowrap;
            }

            #title {
                font-size: 1.5rem;
            }

            #block-2 button {
                width: 45%;
            }

            #curveL,
            #curveR {
                width: 48%;
            }
        }
    </style>


        <title>Gait Analysis</title>
        <link rel="icon" type="image/png" href="uoh.png">

        
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
       <!-- <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/control_utils_3d.js" crossorigin="anonymous"></script>-->

        

    </head>
    <body>
            <div id="container-0">
                <h3 id="time">0:0</h3>
                <h2 id="title">Human Gait Pattern Analysis System</h2>
                <h3 id="block-1">Download Data<button type = "button" id = "dow" > &#x21E9; </button></h3>
            </div>

            <!--Walking/Standingsssssss-->
            <h3 id="pose-status" style="color: green; font-size: 22px; font-family: Arial;">
              Status: Detecting...
            </h3>


            <div id="container-1">
                <canvas id="pose-canvas"></canvas>
                <video id="pose-video" muted> </video>
            </div>

            <div id="container-2">
                <div id="block-2">
                    <label >Walking Direction:</label>
                    <select id="dir" onchange="change()" autofocus="autofocus" required>
                    <option value="No" selected = "selected">Select</option>    
                    <option value="LR">Left to Right</option>
                    <option value="RL">Right to Left</option>
                    </select><br>

                    <div class="button-group">
                        <button type="button" id="bttn3">Start</button>
                        <button type="button" id="bttn4">Reset</button>
                    </div>

                </div>

                <table id="block-3">
                    <caption id="cap">Gait Kinematics Data</caption>

                    <tr>
                        <th></th>
                        <th>Right</th>
                        <th>Left</th>
                        
                    </tr>

                    <tr>
                        <td>Knee Angle</td>
                        <td id="k-angle-R"></td>
                        <td id="k-angle-L"></td>
                    </tr>

                    <tr>
                        <td>Ankle Angle</td>
                        <td id="ank-angle-R"></td>
                        <td id="ank-angle-L"></td>
                    </tr>

                    <tr>
                        <td>Hip Angle</td>
                        <td id="hip-angle-R"></td>
                        <td id="hip-angle-L"></td></td>
                    </tr>
                </table>
				
				<table id="block-31">
                    <!--<caption id="cap">Spatio-temporals Parameters</caption>-->
                    <tr>
                        <th>Parameters</th>
                        <th>Value</th>
                        
                    </tr>
                    

                    <tr>
                        <td>LA_TO_RA_DIS (cm)</td>
                        <td id="dis"></td>
                        
                    </tr>

                    <tr>
                        <td>Sample Duration(s)</td>
                        <td id="dur"></td>
                    </tr>


                    <tr>
                        <td>Speed (m/s)</td>
                        <td id="Gait Speed"></td>
                        
                    </tr>

                </table>
            </div>
          
            <div id = "container-3">
                <canvas id = "curveL" class="curve"></canvas>
                <canvas id = "curveR" class="curve"></canvas>
            </div>

            <!--<script src="js/face-api.min.js"></script>-->
            <script src="camera-script.js"> </script>
         
    </body>
</html>
